<!doctype html><html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta charset="UTF-8">
    <link rel="canonical" href="http://localhost/vine.etc">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="robots" content="all">
    <link rel="icon" href="./favicona.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./favicona.ico" type="image/x-icon">
    <script type="text/javascript" src="https://damarsidiq.github.io/jiveRPG/jquery-1.9.1.min.js">
    </script><script type="text/javascript" src="https://damarsidiq.github.io/jiveRPG/msgbox.js"></script>
    <script type="text/javascript">var appname= "coscher";var isanelectronapp= false;</script>
    <script type="text/javascript">var newlinebr="\r\n";var tmlbr="\n";</script>
    <title></title>
</head>
<body class="">
    <div id="messagebox" class="">
        <div id="messageboxtitle"></div>
        <div id="messageboxmsg"></div>
        <div id="messageboxcontent">
            <div id="messageboxmsg"></div>
            <div class="table"><div class="tablecell"></div></div>
        </div>
        <div id="messageboxaction">
        </div>
    </div>
<style>
.messageboxmsg,.messageboxtitle{border-bottom:1px dotted #c8c8c8;text-align:center}html{overflow:auto;width:auto;height:auto}#messagebox,.messagebox,.messagebox.active div.row.hide,.messagebox.active div.row.hidebyco,.messagebox.active.wide .messageboxtitle,.messageboxaction span.jcs.dormant,.messageboxaction span.savingprivateryan,.modals,.selectallmode #changetext,.selectallmode #textidis,.toolbars#textoptions.polygon #changetext,.toolbars#textoptions.polygon #fontfamilyopt,.toolbars#textoptions.polygon #numberfontsize{display:none}.messagebox input#sortelselall{float:left;margin:0 0 0 -6px;padding:0;box-shadow:none}.messageboxaction span.settchooser{float:left}#messagebox input[type=checkbox],.messagebox input[type=button]:focus,.messagebox input[type=button]:hover,.messagebox input[type=checkbox],.messageboxaction span#quitshirt:hover,.messageboxaction span.closemessagebox:hover,.messageboxaction span.disabled,.messageboxaction span.disabled:hover,.messageboxaction span.settchooser.active,.showall .messagebox.active.wide .messageboxaction span.closemessagebox{box-shadow:none}.messageboxaction span.killryan{box-shadow:none;color:#652626}.messageboxaction span.savingprivateryan.editing,.messageboxmsg.active{display:block}.messagebox input.addchartdata,.messagebox input.minchartdata{float:right;width:20px;text-align:center;margin-left:3px;padding:0;margin-top:2px}.messagebox input.chartxinput,.messagebox input.chartyinput{width:100px;height:23px}.messagebox input.chartxinput{margin-right:33px}.messageboxaction span#quitshirt{float:left;color:#841818;background:#fff;margin-left:0;box-shadow:0 1px 4px 0 #bdbdbd}.messagebox.xxl div.row input.elemco{width:74%;height:12px;float:right;box-shadow:none;margin-right:0;color:#bdbdbd;background:#fff}.messagebox.xxl div.row input.elemco.inco,.messagebox.xxl div.row input.elemco.regiformfoc,.messagebox.xxl div.row input.elemco:hover{color:#6d6a6a}.showall .messagebox.active.wide .messageboxaction span.editing{font-size:10px;color:#0c0c0c}.showall .messagebox.active.wide .messageboxaction span.editing:hover{color:#fff;text-shadow:none}.showall .wide .messageboxaction span.closemessagebox:hover:before,.wide .messageboxaction span.closemessagebox:before{color:#fff}.messageboxaction span.backup{float:left;margin:0}.messagebox input{height:27px;box-shadow:inset 0 0 9px 0 #e2dbdb;padding-left:3px;background:#fff}.messagebox input[type=button],.messageboxaction span{box-shadow:0 0 3px -1px #404040}.messagebox input[type=button],.messagebox input[type=number]{border:none}.messageboxaction input{height:16px;margin-left:0}.messagebox input:focus,.messagebox input:hover,.messagebox textarea:focus,.messagebox textarea:hover{box-shadow:inset 0 0 9px 0 #e2dbdb}.messagebox input:focus,.messagebox textarea:focus{background:#efefef}.messagebox.active{z-index:8;background:#fff;border-radius:5px;box-shadow:0 0 7px #949494;color:#404040;display:block;font-size:12px;height:34%;left:36%;line-height:12px;position:absolute;top:30%;width:28%}.messageboxtitle{display:block;font-size:14px;font-weight:700;height:5%;padding:1%;width:98%}.messageboxmsg{display:none;position:absolute;top:9%;left:0;width:100%;height:auto;font-size:12px;line-height:30px;box-shadow:0 0 4px #bdbdbd}.messageboxmsg.active.error{color:red}.messagebox.active.extrawide,.messagebox.active.wide{border-radius:5px;box-shadow:0 0 7px #949494;color:#404040;left:10%;line-height:12px;width:80%;z-index:8;display:block;font-size:12px}.messageboxcontent{display:block;height:77%;overflow:auto;padding:1%;position:relative;text-align:center;width:98%}.messageboxaction{border-top:1px dotted #c8c8c8;display:block;height:8%;padding:1%;width:98%}.messageboxaction span{cursor:default;display:inline-block;float:right;height:100%;line-height:19px;margin-left:15px;padding:0 10px;width:auto;background:#fff;color:#020202}.wide .messageboxaction span{line-height:24px}.showall .messagebox.active.wide .messageboxcontent{height:95%}.showall .messagebox.active.wide .messageboxaction{margin-top:-1px;height:5.1%;padding:0 1%;background:#383838;border-top:none}.showall .messagebox.active.wide .messageboxaction span{text-shadow:0 1px 1px #4d4d4d;line-height:28px;height:83%;margin-top:.28%;text-transform:lowercase;background:0 0;color:#222}.showall .messagebox.active.wide .messageboxaction span.killryan{color:#3a2626;box-shadow:none}.messageboxaction span:hover,.messageboxaction span:hover span{background:#000}.messageboxaction span a{text-decoration:none;color:inherit;display:block;width:100%;height:100%}.messageboxaction span.jcs{float:left;margin-right:10px;margin-left:0}.messageboxaction span.jcs.active.editoce,.messageboxaction span.jcs.editoce,.messageboxaction span.jcs.oce.editoce:hover{box-shadow:none;border-left:none;color:#020202;background:#fff}.messageboxaction span.jcs.oce.editoce:hover{padding:0 10px}.messageboxaction span.jcs.active,.showall .messagebox.active.wide .messageboxaction span.jcs.active,.showall .messagebox.active.wide .messageboxaction span.jcs:hover{background:#404040;color:#fff}.messageboxaction span.jcs.oce:hover{border-left:4px solid #bdbdbd;padding-right:8px;padding-left:8px}.messageboxaction span#addjc.oce:hover{border-left:none;box-shadow:0 0 3px -1px #404040}.messagebox.active.extrawide{background:#fff;height:86%;position:absolute;top:5%}.messagebox.active.extrawide .messageboxtitle,.messagebox.active.xxl .messageboxtitle{height:2%}.messagebox.active.extrawide .messageboxcontent{height:83%}.messagebox.active.extrawide .messageboxaction,.messagebox.active.wide .messageboxaction{height:4%}.messagebox.active.extrawide .messageboxaction span{line-height:23px}.messagebox.active.wide{background:#fff;height:90%;position:absolute;top:2%}.showall .messagebox.active.wide{position:fixed;height:99%;left:.5%;top:0;width:99%;background:0 0}.messagebox.active.wide .messageboxcontent{height:93%;padding:0;width:100%}.messageboxaction span:hover,.messageboxaction span:hover #thexsign{box-shadow:inset 0 0 8px -3px #404040;background:#fff;color:#383737}.messageboxaction span#thexsign{float:left;margin:0 8px 0 -10px;padding:0 6px;box-shadow:none;display:none}.messagebox.xxl .messageboxaction{height:5%}.messagebox.xxl .messageboxaction span{line-height:26px}.messagebox.active.xxl{height:81%;left:25%;top:6%;width:50%}.messagebox.active.xxl .messageboxcontent{height:86%}.messagebox.active div.row{clear:both;width:98%;height:auto;min-height:20px;margin-bottom:4px;text-align:left;word-wrap:break-word;word-break:break-word}.messageboxaction span.closemessagebox{z-index:99;font-size:0px;box-shadow:0 0 6px 0 #bdbdbd;position:absolute;top:-1%;right:-1%;width:30px;height:30px;border-radius:50%;padding:0;background:#fff;border:none;color:transparent}.messageboxaction span.closemessagebox:before{content:"X";color:#000;text-align:center;width:30px;display:block;height:30px;line-height:32px;font-family:Arial;font-size:12px}.wide .messageboxaction span.closemessagebox{background:#202020}.showall .wide .messageboxaction span.closemessagebox{right:0}.showall .extrawide .messageboxaction span.closemessagebox,.showall .wide .messageboxaction span.closemessagebox{position:relative;border-radius:64%;display:inline-block;float:right;height:100%;line-height:23px;margin-left:15px;padding:0;margin-right:-7px;width:auto;background:#fff}.showall .wide .messageboxaction span.closemessagebox:before{color:#202020;line-height:27px}.t_csvtbl .textshirt{position:relative}@font-face{font-family:Gotham_Narrow;src:url('https://damarsidiq.github.io/jiveRPG/Gotham-Font/Narrow/Gotham Narrow Book.otf') format('opentype')}@font-face{font-family:Gotham_Narrow_Light;src:url('https://damarsidiq.github.io/jiveRPG/Gotham-Font/Narrow/Gotham Narrow Light.otf') format('opentype')}@font-face{font-family:Gotham_Narrow_Medium;src:url('https://damarsidiq.github.io/jiveRPG/Gotham-Font/Narrow/Gotham Narrow Medium.otf') format('opentype')}@font-face{font-family:Gotham_Narrow_Thin;src:url('https://damarsidiq.github.io/jiveRPG/Gotham-Font/Narrow/Gotham Narrow Thin.otf') format('opentype')}@font-face{font-family:Gotham_Narrow_Ultra;src:url('https://damarsidiq.github.io/jiveRPG/Gotham-Font/Narrow/Gotham Narrow Ultra.otf') format('opentype')}@font-face{font-family:Gotham_Narrow_Black;src:url('https://damarsidiq.github.io/jiveRPG/Gotham-Font/Narrow/Gotham Narrow Black.otf') format('opentype')}@font-face{font-family:Gotham;src:url('https://damarsidiq.github.io/jiveRPG/Gotham-Font/GothamBook.ttf') format('truetype')}@font-face{font-family:Gotham_bold;src:url('https://damarsidiq.github.io/jiveRPG/Gotham-Font/GothamBold.ttf') format('truetype')}@font-face{font-family:Gotham_bold_italic;src:url('https://damarsidiq.github.io/jiveRPG/Gotham-Font/GothamBoldItalic.ttf') format('truetype')}@font-face{font-family:Gotham_medium;src:url('https://damarsidiq.github.io/jiveRPG/Gotham-Font/GothamMedium.ttf') format('truetype')}@font-face{font-family:Gotham_medium_italic;src:url('https://damarsidiq.github.io/jiveRPG/Gotham-Font/GothamMediumItalic.ttf') format('truetype')}@font-face{font-family:Gotham_light;src:url('https://damarsidiq.github.io/jiveRPG/Gotham-Font/GothamLight.ttf') format('truetype')}@font-face{font-family:Gotham_light_italic;src:url('https://damarsidiq.github.io/jiveRPG/Gotham-Font/GothamLightItalic.ttf') format('truetype')}body{font-size:12px;width:100%;height:100%;padding:0;margin:0}.textshirt{z-index:3;font-size:13px;position:absolute;top:0;height:auto;line-height:30px;font-family:Arial;width:auto;color:#bdbdbd}#canvas,#canvaswrapper,.canvassheet,.textshirt.mergershirt,.textshirt.mergershirt .textshirt,.thecanvas{position:fixed}#canvas,#canvaswrapper,.table,.tablecell{width:100%;height:100%}.textshirt.imageshirt{z-index:2}.toolbars#textoptions div#bluropt#bluropt{float:right;width:30px;height:100%;text-align:center;margin-right:0}.toolbars#textoptions div#bluropt#bluropt:hover{cursor:default}.textshirt.selectall,.textshirt.selected,.textshirt.selectmuch{box-shadow:0 0 3px -1px #bdbdbd}.textshirt.selectall:hover,.textshirt.selected:hover,.textshirt.selectmuch:hover{box-shadow:0 0 3px 0 #bdbdbd}.lineshirt div{background:#bdbdbd}.circleshirt:hover,.lineshirt:hover{cursor:text}.circleshirt{border-radius:100%}.circleshirt,.rectshirt,.squareshirt{border:1px solid #bdbdbd}.textshirt.rotatingshirt,.textshirt.rotatingshirt_{visibility:hidden}input[type=text],select{color:#757575;border-radius:3px;border:none;padding:3px}input[type=text].filled{color:#000}code:focus{outline:0}#canvas{background:#fff}.canvassheet{display:none;top:100%}.teedesc.activesheet{border-bottom:1px solid #404040;font-size:13px}.bordered{border-bottom:1px solid #e6e6e6}.table{display:table;text-align:center}.tablecell{display:table-cell;vertical-align:middle}.messagebox.active div.row.centermid{text-align:center}
</style>
<script type="text/javascript">
var dialogbox={box:[],boxidx:0,active:false,title:false,content:false,action:false,checkexists:function(title){for(var i=0;i<dialogbox.box.length;i++){if(dialogbox.box[i].title==title){dialogbox.switchactive(i);return true}}return false},switchactive:function(idx){if(dialogbox.boxidx==idx){$(dialogbox.box[idx].box).addClass('active')}else{for(var i=0;i<dialogbox.box.length;i++){if(i!=idx){$(dialogbox.box[i].box).removeClass('active')}else{$(dialogbox.box[i].box).addClass('active')}}dialogbox.boxidx=idx}dialogbox.actionbox=$('#messagebox_'+dialogbox.boxidx).children('.messageboxaction')[0];dialogbox.titlebox=$('#messagebox_'+dialogbox.boxidx).children('.messageboxtitle')[0];dialogbox.contentbox=$('#messagebox_'+dialogbox.boxidx).children('.messageboxcontent')[0];dialogbox.title=dialogbox.box[dialogbox.boxidx].title;dialogbox.content=dialogbox.box[dialogbox.boxidx].content;dialogbox.action=dialogbox.box[dialogbox.boxidx].action},refresh:function(){$('.messagebox').remove();dialogbox.box=[];dialogbox.boxidx=0;dialogbox.active=false;dialogbox.title=false;dialogbox.content=false;dialogbox.action=false},moveable:true,dispmsg:function(themsg,fadeout){dialogbox.box[dialogbox.boxidx].dispmsg(themsg,fadeout);dialogbox.box[dialogbox.boxidx].msg=themsg;$('#messageboxmsg_'+dialogbox.boxidx).html(themsg).addClass('active').removeClass('error').css('opacity',1);if(fadeout){clearTimeout(dialogbox.box[dialogbox.boxidx].timer);dialogbox.box[dialogbox.boxidx].timer=setTimeout(function(){$('#messageboxmsg_'+dialogbox.boxidx).animate({'opacity':0},'slow',function(){$('#messageboxmsg_'+dialogbox.boxidx).removeClass('active')})},4000)}},mbox:function(boxelem,classtype,cbf){dialogbox.title=boxelem[0];dialogbox.content=typeof boxelem[1]==='string'?boxelem[1]:'';dialogbox.action=typeof boxelem[2]==='string'?boxelem[2]:'';dialogbox.boxidx=dialogbox.box.length;dialogbox.box[dialogbox.boxidx]=new messagebox();dialogbox.box[dialogbox.boxidx].id=dialogbox.boxidx;dialogbox.box[dialogbox.boxidx].box=$('#messagebox')[0];while(typeof $(dialogbox.box[dialogbox.boxidx].box).next().attr('class')!=='undefined'&&$(dialogbox.box[dialogbox.boxidx].box).next().attr('class').indexOf('messagebox')!==-1){dialogbox.box[dialogbox.boxidx].box=$(dialogbox.box[dialogbox.boxidx].box).next()}$(dialogbox.box[dialogbox.boxidx].box).after($('#messagebox')[0].outerHTML);$(dialogbox.box[dialogbox.boxidx].box).next().prop('id','messagebox_'+dialogbox.boxidx).addClass('messagebox');$.each($('#messagebox_'+dialogbox.boxidx).children(),function(mi,me){$(me).addClass($(me).attr('id'));$(me).prop('id',$(me).attr('id')+'_'+dialogbox.boxidx)});if(typeof $('#messagebox_'+dialogbox.boxidx).find('#messageboxmsg').eq(0).attr('id')!=='undefined'){$('#messagebox_'+dialogbox.boxidx).find('#messageboxmsg').prop('id','messageboxmsg_'+dialogbox.boxidx)}$('#messagebox_'+dialogbox.boxidx).addClass('active');if(typeof classtype==='string'){$('#messagebox_'+dialogbox.boxidx).addClass(classtype)}dialogbox.box[dialogbox.boxidx].displayfunc(dialogbox.title,dialogbox.content,dialogbox.action);dialogbox.box[dialogbox.boxidx].box=$('#messagebox_'+dialogbox.boxidx)[0];dialogbox.actionbox=$('#messagebox_'+dialogbox.boxidx).children('.messageboxaction')[0];dialogbox.titlebox=$('#messagebox_'+dialogbox.boxidx).children('.messageboxtitle')[0];dialogbox.contentbox=$('#messagebox_'+dialogbox.boxidx).children('.messageboxcontent')[0];$('#messagebox_'+dialogbox.boxidx).find('.closemessagebox').prop('id','closemessagebox_'+dialogbox.boxidx).addClass('closemessagebox');if(dialogbox.moveable){if(dialogbox.gps.length){$(dialogbox.box[dialogbox.boxidx].box).css('left',dialogbox.gps[0]+'px');$(dialogbox.box[dialogbox.boxidx].box).css('top',dialogbox.gps[1]+'px')}dialogbox.box[dialogbox.boxidx].setmoveable($('#messagebox_'+dialogbox.boxidx))}if(typeof cbf=='function')cbf();dialogbox.active=true;return dialogbox.box[dialogbox.boxidx].id},init:function(){messagebox.prototype.close=function(){if(dialogbox.moveable&&$('#messagebox_'+this.id)[0].style.cssText.indexOf('top:')!=-1&&$('#messagebox_'+this.id)[0].style.cssText.indexOf('left:')!=-1){dialogbox.gps=[$('#messagebox_'+this.id)[0].offsetLeft,$('#messagebox_'+this.id)[0].offsetTop]}else{dialogbox.gps=[]}$('#messagebox_'+this.id).remove()};messagebox.prototype.displayfunc=function(title,content,action){this.title=title;this.content=content;this.action=action;this.action='<span class="closemessagebox"><span id="thexsign">X</span>Close</span>'+this.action;$('#messageboxtitle_'+this.id).html(this.title);$('#messageboxcontent_'+this.id).find('.tablecell').html(this.content);$('#messageboxaction_'+this.id).html(this.action);$('#messageboxmsg_'+this.id).html(this.msg).removeClass('error active')};messagebox.prototype.updatemessage=function(content){this.content=content;$('#messageboxcontent_'+this.id).find('.tablecell').html(this.content);$('#messageboxmsg_'+this.id).html(this.msg).removeClass('error active')};messagebox.prototype.updatetitle=function(title){this.title=title;$('#messageboxtitle_'+this.id).html(this.title)};messagebox.prototype.dispmsg=function(themsg,fadeout){this.msg=themsg;$('#messageboxmsg_'+this.id).html(themsg).addClass('active').removeClass('error').css('opacity',1);if(fadeout){setTimeout(function(){$('#messageboxmsg_'+this.id).animate({'opacity':0},'slow',function(){$('#messageboxmsg_'+this.id).removeClass('active')})},4000)}};messagebox.prototype.errormsg=function(themsg,fadeout){this.msg=themsg;$('#messageboxmsg_'+this.id).html(themsg).addClass('active error').css('opacity',1);if(fadeout){setTimeout(function(){$('#messageboxmsg_'+this.id).animate({'opacity':0},'slow',function(){$('#messageboxmsg_'+this.id).removeClass('active')})},4000)}};messagebox.prototype.displayfunc=function(title,content,action){this.title=title;this.content=content;this.action=action;this.action='<span class="closemessagebox"></span>'+this.action;$('#messageboxtitle_'+this.id).html(this.title);$('#messageboxcontent_'+this.id).find('.tablecell').html(this.content);$('#messageboxaction_'+this.id).html(this.action);$('#messageboxmsg_'+this.id).html(this.msg).removeClass('error active')};$('body').delegate('.closemessagebox','click',function(event){event.stopPropagation();dialogbox.closebox(this.id.split('_')[1])})},gps:[],close:function(){if(dialogbox.box.length){dialogbox.box[dialogbox.boxidx].close();dialogbox.box.splice(dialogbox.boxidx,1);dialogbox.boxidx--;if(dialogbox.boxidx==-1){dialogbox.boxidx=0}if(!dialogbox.box.length){dialogbox.refresh();return}dialogbox.switchactive(dialogbox.boxidx)}else{dialogbox.refresh()}},closebox:function(id){dialogbox.boxidx=parseInt(id);for(var i=0;i<dialogbox.box.length;i++){if(dialogbox.box[i].id==dialogbox.boxidx){dialogbox.box[i].close();dialogbox.box.splice(i,1);dialogbox.boxidx--;break}}if(dialogbox.boxidx==-1){dialogbox.boxidx=0}if(!dialogbox.box.length){dialogbox.refresh();return}dialogbox.switchactive(dialogbox.boxidx)}};var pagesheets={sheets:[false],currentsheet:0,init_:function(reset){if(reset){$('#canvas').removeClass('canvsheet_'+pagesheets.currentsheet)}pagesheets.sheets=[false];pagesheets.currentsheet=0},hide:false,initialized:false,init:function(hide){if(this.initialized)return;this.initialized=true;if(typeof hide!=='undefined')pagesheets.hide=hide;pagesheets.init_(false);var csheet=0;if(typeof $('.canvassheet').attr('class')!=='undefined'){$.each($('.canvassheet'),function(ti,te){pagesheets.sheets[csheet]={elem:$(te)[0].outerHTML,idx:parseInt($(te).attr('class').split('canvsheet_')[1].split(' ')[0])};if(!hide)$(te).remove();csheet++});pagesheets.sheets[csheet]={elem:$('#canvas')[0].outerHTML,idx:parseInt($('#canvas').attr('class').split('canvsheet_')[1].split(' ')[0])};pagesheets.currentsheet=parseInt($('#canvas').attr('class').split('canvsheet_')[1].split(' ')[0]);pagesheets.sheets.sort(function(a,b){return a.idx-b.idx})}else{pagesheets.sheets[csheet]={elem:$('#canvas')[0].outerHTML,idx:0}}},navsheet:function(){if(pagesheets.sheets.length==1){return}var idx=pagesheets.currentsheet+1;if(idx==pagesheets.sheets.length){idx=0}pagesheets.loadsheet(idx)},loadsheet:function(idx){if(pagesheets.hide){idx=parseInt(idx);$('#canvas').prop('id','canvsheet_'+pagesheets.currentsheet).addClass('canvassheet canvsheet_'+pagesheets.currentsheet);pagesheets.sheets[pagesheets.currentsheet].elem=$('#canvsheet_'+pagesheets.currentsheet)[0].outerHTML;pagesheets.currentsheet=idx;$('#canvsheet_'+pagesheets.currentsheet).prop('id','canvas').removeClass('canvassheet');return}$('#canvas').before('<div id="canvastobe"></div>');idx=parseInt(idx);$('#canvas').prop('id','canvsheet_'+pagesheets.currentsheet).addClass('canvassheet canvsheet_'+pagesheets.currentsheet);pagesheets.sheets[pagesheets.currentsheet].elem=$('#canvsheet_'+pagesheets.currentsheet)[0].outerHTML;$('#canvsheet_'+pagesheets.currentsheet).remove();pagesheets.currentsheet=idx;$('#canvastobe').replaceWith(pagesheets.sheets[pagesheets.currentsheet].elem);$('#canvsheet_'+pagesheets.currentsheet).prop('id','canvas').removeClass('canvassheet')},delsheet_:function(idx){if(pagesheets.sheets.length==1){return}if(pagesheets.currentsheet==idx){if(idx>0){pagesheets.loadsheet((idx-1))}else{pagesheets.loadsheet(idx+1)}}pagesheets.sheets.splice(idx,1);for(var i=idx;i<pagesheets.sheets.length;i++){if(pagesheets.currentsheet==pagesheets.sheets[i].idx){$('#canvas').removeClass('canvsheet_'+pagesheets.currentsheet).addClass('canvsheet_'+i);pagesheets.currentsheet=i;pagesheets.sheets[i].idx=i}else{pagesheets.sheets[i].elem=pagesheets.sheets[i].elem.split('canvsheet_'+pagesheets.sheets[i].idx).join('canvsheet_'+i);pagesheets.sheets[i].idx=i}}}};function registaforminputaction(elem){if(typeof($(elem).attr('class'))!=='undefined'&&$(elem).attr('class').indexOf('filled')!==-1){return}if(typeof($(elem).attr('name'))!=='undefined'){var formarray=$(elem).attr('name').indexOf('[');if(formarray==-1){formarray=($(elem).attr('name').length)}if($(elem).val()!=$(elem).attr('name')){$(elem).addClass('filled')}}}function registaforminput(containerid,inputtypes){if(containerid==='body'){containerid='body'}else{containerid='#'+containerid}var findselect=inputtypes.split(',');if($.inArray('select',findselect)!==-1){$(containerid).delegate('select','change',function(event){event.stopPropagation();if(typeof($(this).attr('class'))!=='undefined'&&$(this).attr('class').indexOf('filled')!==-1){return}if(typeof($(this).attr('name'))!=='undefined'){var formarray=$(this).attr('name').indexOf('[');if(formarray==-1){formarray=($(this).attr('name').length)}if($(this).val()!=$(this).attr('name')){$(this).addClass('filled')}}})}$(containerid).delegate(inputtypes,'click focus',function(event){event.stopPropagation();$(this).addClass('regiformfoc');if(typeof($(this).attr('class'))!=='undefined'&&$(this).attr('class').indexOf('filled')!==-1){return}if(typeof($(this).attr('name'))!=='undefined'){var formarray=$(this).attr('name').indexOf('[');if(formarray==-1){formarray=($(this).attr('name').length)}}});$(containerid).delegate(inputtypes,'keyup',function(event){event.stopPropagation();if(typeof($(this).attr('name'))!=='undefined'){var formarray=$(this).attr('name').indexOf('[');if(formarray==-1){formarray=($(this).attr('name').length)}if($(this).val()!=$(this).attr('name')){$(this).addClass('filled')}if($(this).attr('name').indexOf('password')!==-1){$(this).prop('type','password')}if($(this).val()==''){$(this).val($(this).attr('name').substr(0,formarray)).removeClass('filled')}}});$(containerid).delegate(inputtypes,'keydown',function(event){event.stopPropagation();if(typeof($(this).attr('name'))!=='undefined'){var formarray=$(this).attr('name').indexOf('[');if(formarray==-1){formarray=($(this).attr('name').length)}if($(this).val()!=$(this).attr('name')){$(this).addClass('filled')}if($(this).attr('name').indexOf('password')!==-1){$(this).prop('type','password')}if($(this).val()===$(this).attr('name').substr(0,formarray)){$(this).val('')}}});$(containerid).delegate(inputtypes,'blur',function(event){if(typeof($(this).attr('name'))!=='undefined'){$(this).removeClass('regiformfoc');var formarray=$(this).attr('name').indexOf('[');if(formarray==-1){formarray=($(this).attr('name').length)}if($(this).val()===''){if($(this).attr('name').indexOf('password')!==-1){$(this).prop('type','text')}$(this).val($(this).attr('name').substr(0,formarray));$(this).removeClass('filled')}else{if($(this).val()!=$(this).attr('name').substr(0,formarray))$(this).addClass('filled');else{$(this).removeClass('filled')}}}})}var getappsumcmd={start:function(){pagesheets.init();$('body').on('keyup',function(event){if(event.which==9&&event.ctrlKey){pagesheets.navsheet()}})}};dialogbox.init();
</script>

<div id="interiorscenebg"></div>
<div id="canvas" style="background: rgb(0, 0, 0); top: 0px; left: 0px; width: 100%; height: 100%;" class="canvsheet_0"><div id="text_3" class="textshirt rectshirt" style="width: 100%; height: 100%; top: 0px; left:0px;border: medium;"><img id="text5" src=""></div><div id="progressindicator"></div></div>
<style id="pagecss_">
#dialoguebubble,#dialoguebubble.choosestorytitles,#interiorscene{border-radius:6px;font-size:19px;overflow:auto;background:#fff;line-height:30px}#dialogueboxheader,#storyBox{border-bottom:1px dotted #404040}#dialoguebubble #illustration img,#text5{width:100%;height:100%;object-fit:cover}#dialoguebubble p.first,#dictionary,html{font-family:Gotham_Narrow}#dictionary,#interiorscenebg,#progressindicator{position:fixed;z-index:99}html{width:100%;height:100%}.textshirt{line-height:normal}.menuitem{height:20px;line-height:20px}.menuitem:hover{border-bottom:1px solid #404040}#dialoguebubble,#interiorscene{position:fixed;bottom:0;height:auto;width:94%;left:0;padding:3% 2%;z-index:99}#dialoguebubble.choosestorytitles{box-shadow:1px 0 9px 4px #bdbdbd;top:12%;height:70%;width:60%;left:17%;padding:3%;z-index:99}#dialoguebubble{min-height:100px;overflow:hidden;opacity:.9;background:#000;color:#f1f1f1;text-shadow:0 1px 3px rgba(0,0,0,.8);border:.1px solid rgba(255,255,255,.2);bottom:6px;width:93%;left:1%}#dialogueboxheader{margin-top:-1%;text-align:center;color:#252424;text-shadow:none}.interiorScene #dialogueboxheader{color:#f1f1f1;border-bottom:1px dotted #ebebeb}#dialoguebubble.inventory{background:beige}#dialoguebubble.interiorScene{height:70%;width:70%;top:12%;left:13%;overflow:auto}#dialoguebubble p.first{margin-top:0;width:92%;font-size:18px}#dialoguebubble #illustration{float:left;display:inline-block;width:50%;height:100%;overflow:hidden}#dialoguebubble #illustrationtext{display:inline-block;float:left;width:49%;padding-left:1%;height:100%;overflow-y:auto;overflow-x:hidden}.choosestorytitles div.respond{position:relative;color:#000;text-align:left;margin-top:15px;border-bottom:1px dotted #bdbdbd;text-shadow:none}#ankisent,#ankistate,#so_menub .respond{text-align:center}div.respond{color:#fff;bottom:4px;position:absolute;right:0;padding-right:36px}#so_menub,div.responsecursor{position:absolute;bottom:0;height:30px}div.respond.active,div.respond:hover{font-weight:700}div.respond.first,div.respond.fourth,div.respond.second,div.respond.third{font-size:14px}div.respond.first{bottom:36px}div.respond.second{bottom:66px}div.respond.third{bottom:96px}div.respond.fourth{bottom:126px}#rdmp{font-size:16px}#storyBox{height:86%;overflow-y:auto;overflow-x:hidden;width:100%}#interiorscene{width:86%;height:70%;top:12%;left:4%}#ankistate.due,#interiorscene img{display:block}#interiorscenebg{display:none;width:100%;height:100%;top:0;left:0;background:#000;opacity:.8}div.responsecursor{width:30px;right:0;color:#fff;font-size:34px;display:none}.choosestorytitles div.responsecursor.active{color:#31bdd4;top:0}@keyframes pulse{0%,100%{transform:scale(1);opacity:.9}50%{transform:scale(1.3);opacity:1}}div.responsecursor.active{display:block;font-size:15px;text-align:center;color:#00f;text-shadow:0 0 6px rgba(0,123,255,.6);animation:2s ease-in-out infinite pulse}.messagebox.active.wide{width:78%;padding:0 1%}#text5{transition:opacity .2s}#dictionary{background:#fff;color:#000;border-radius:6px;padding:1px 9px;line-height:30px;height:30px;width:auto}#dictionary.ankied{background:#6c2020;color:#fff;font-weight:700}#ankisent .txtfrg.inq{color:#ff6565;text-decoration:underline;font-size:larger}#ankianswer,#backfromcontrol{position:absolute;bottom:16px;right:36px;color:#ff6565;text-decoration:underline}#ankiaudio{position:absolute;bottom:16px;left:36px}#ankiaudio.wait{display:none}#so_menub .respond,.ankistate_{width:25%;display:inline-block}#backfromcontrol{color:#fff;text-decoration:none}#ankianswer.wait{background:#ff6565;color:transparent;text-shadow:none}#ankistate{margin-top:140px;display:none}.ankistate_.selected{color:#ff6565}.stgenre.ai-investigation,body.dictionInq #dialoguebubble,body.dictionInq div.respond{color:#404040}body.dictionInq #text5{opacity:.5;transition:opacity 90ms}#dialoguebubble a:hover,body.dictionInq .txtfrg.inq{color:#fff}#progressindicator{top:0;height:2px;width:0;left:0;background:#ff0e0e}#progressindicator:hover{height:4px}#dialoguebubble a{color:#7d7d7d;text-decoration:none}.stgenre{color:#0f8426;float:right;font-size:17px;margin-right:-32px}.stgenre.wisdom-tale{color:#ff7800}.stgenre.sleep-story{color:#173282}.stgenre.learning-story{color:#c13c3c}.stgenre.travel-story{color:#3cc1a8}.stgenre.noticias-mundiales{color:#84510f}#dialoguebubble.interiorScene div.respond{position:relative;text-align:right;margin-bottom:15px}#so_menub{width:94%;left:0;padding:0 3%}#so_menub .respond{margin:0;padding:0;border-bottom:none}@media screen and (orientation:portrait){#dialoguebubble,#dialoguebubble p.first,body,div.respond.first,div.respond.fourth,div.respond.second,div.respond.third{font-size:clamp(14px, 3.5vw, 22px)}div.respond{bottom:clamp(4px,2vh,4px)}div.respond.first{bottom:calc(clamp(4px,2vh,4px) + 30px)}div.respond.second{bottom:calc(clamp(4px,2vh,4px) + 60px)}div.respond.third{bottom:calc(clamp(4px,2vh,4px) + 90px)}div.respond.fourth{bottom:calc(clamp(4px,2vh,4px) + 120px)}#dialoguebubble.choosestorytitles{width:80%;left:7%;height:80%;top:7%}.choosestorytitles div.respond#ehanki,.choosestorytitles div.respond#opti{display:none}#so_menub .respond{width:50%}#dialoguebubble{min-height:13vh;width:95%;left:2%}#dialoguebubble p.first{width:78%}}@media screen and (max-width:900px) and (orientation:landscape){#storyBox{height:74%}#dialoguebubble.choosestorytitles{width:80%;left:7%;height:70%;top:12%}}
</style>
<script type="text/javascript" id="pagejava">
var storyline={clang:'ru',deflang:'ru',lang:['EN','RU','SV','DA','NO','FI'],chapters:[],current_chap:0,stage:1,unfold_:false,gnotif:[],pos:[],inventory:[],intro:"",gtUrl:'./jiveRPG/gameTape/southSide/',docUrl:false,defaultVar:{intext:'interior',streamIntro:false},fragments:function(p){p=p.split(' ');for(var i=0;i<p.length;i++){p[i]='<span class="txtfrg">'+p[i]+'</span>'}return p.join(' ')},updateImg:function(c,url){var img=new Image();img.src=url;$('body').addClass('dictionInq');img.onload=function(){$(c).attr('src',img.src);$('body').removeClass('dictionInq')}},showIntro:function(){$('#canvas').before('<div id="interiorscenebg"></div>');$('body').append('<div id="dialoguebubble" class="interiorScene"></div>');if(this.defaultVar.streamIntro)txtstream.streamtext_(storyline.intro);else $('#dialoguebubble').html(storyline.intro+'<div class="respond active continue" id="afterintro">continue<div class="responsecursor active">\u{25C9}</div></div><div class="respond exitgame" id="exitgame">exit<div class="responsecursor">\u{25C9}</div></div>')},addChapter:function(chconfig){storyline.chapters[storyline.chapters.length]=new storyChapter(chconfig,storyline.chapters.length);return storyline.chapters.length-1},pfh:function(e){e.mykey=e.which;if(typeof $('.choosestorytitles')[0]!=='undefined'&&[38,40].indexOf(e.which)!==-1){if(e.which==40){e.mykey=38}else{e.mykey=40}}switch(e.mykey){case 8:storyline.xunfold();break;case 40:if(typeof $('.responsecursor.active').parent().prev()[0]!=='undefined'){var pi=$('.responsecursor.active').parent().prev()[0].id;if(pi=='storyBox'||pi=='dialogueboxheader'||typeof $('.responsecursor.active').parent().prev().children('.responsecursor')[0]==='undefined'){$('.responsecursor.active').removeClass('active');if(pi=='storyBox')$('#storyBox').children().eq($('#storyBox').children().length-1).find('.responsecursor').addClass('active');else $('.responsecursor').eq($('.responsecursor').length-1).addClass('active')}else{$('.responsecursor.active').parent().prev().children('.responsecursor').addClass('active');$('.responsecursor.active').eq($('.responsecursor.active').length-1).removeClass('active')}}else{$('.responsecursor.active').eq(0).removeClass('active');$('.respond').eq($('.respond').length-1).children('.responsecursor').addClass('active')}$('.respond.active').removeClass('active');$('.responsecursor.active').parent().addClass('active');$('.responsecursor.active').parent()[0].scrollIntoView();break;case 38:if(typeof $('.responsecursor.active').parent().next()[0]!=='undefined'){$('.responsecursor.active').parent().next().children('.responsecursor').addClass('active');$('.responsecursor.active').eq(0).removeClass('active')}else{$('.responsecursor.active').eq(0).removeClass('active');$('.respond').eq(0).children('.responsecursor').addClass('active')}$('.respond.active').removeClass('active');$('.responsecursor.active').parent().addClass('active');$('.responsecursor.active').parent()[0].scrollIntoView();break;case 112:$('#dialoguebubble').remove();$('#canvas').before('<div id="interiorscenebg"></div>');$('body').append('<div id="dialoguebubble" class="interiorScene ingameoptions"><h3 id="dialogueboxheader">Options</h3><div class="respond exitgame active" id="exitgame">Exit<div class="responsecursor active">\u{25C9}</div></div> <div class="respond" id="ftmode">Read Full Text<div class="responsecursor">\u{25C9}</div></div> </div>');$('#ftmode').on('click',function(e){storyline.ftm()});break;case 13:if(txtstream.is_streaming)return;if(typeof $('.choosestorytitles')[0]!=='undefined'){storyline.choosetitle();return}storyline.unfold();break;case 27:if($('body')[0].className.indexOf('intranslation')!==-1){$('.responsecursor.active').eq(0).removeClass('active');$('.respond').eq(0).addClass('active').children('.responsecursor').addClass('active');storyline.chapters[storyline.current_chap].untranslate()}break;default:}},translate:function(xid){switch(xid){case'EN':storyline.clang='en';storyline.chapters[storyline.current_chap].translate(0);break;case'RU':storyline.clang='ru';storyline.chapters[storyline.current_chap].translate(1);break;case'SV':storyline.clang='sv';storyline.chapters[storyline.current_chap].translate(2);break;case'DA':storyline.clang='da';storyline.chapters[storyline.current_chap].translate(3);break;case'NO':storyline.clang='no';storyline.chapters[storyline.current_chap].translate(4);break;case'FI':storyline.clang='fi';storyline.chapters[storyline.current_chap].translate(5);break}},xunfold:function(){var x=parseInt($('#converse')[0].className.split('_')[1])-1;const gameEvent=new CustomEvent('xunfold',{detail:x});document.dispatchEvent(gameEvent);storyline.chapters[storyline.current_chap].unfoldx(x)},unfold:function(){if(!storyline.unfold_){var xid=$('.responsecursor.active').parent().attr('id');if(xid=='exitgame'){storyline.xsto();return}if(xid=='backfromcontrol'){$('#dialoguebubble').remove();storyline.storyOptions();return}console.log('primero');storyline.unfold_=true;storyline.chapters[storyline.current_chap].unfold();return}if(typeof $('#dialoguebubble')[0]==='undefined'){if(storyline.current_chap==storyline.chapters.length){console.log('wheredoesthisgo');return}storyline.chapters[storyline.current_chap].unfold();console.log('regular unfold');return}else{if($('#dialoguebubble')[0].className.indexOf('ending')!==-1||typeof $('.responsecursor')[0]==='undefined'){console.log('endofchapter');storyline.dismissChapter();return}var xid=$('.responsecursor.active').parent().attr('id');console.log(xid);if(['EN','RU','SV','DA','NO','FI'].indexOf(xid)!==-1){storyline.translate(xid);return}if(xid=='audio'){storyline.readaloud();return}if(xid=='exitgame'){storyline.xsto();return}if(xid=='ftmode'){storyline.ftm();return}if(xid=='backfromtext'){storyline.resumeSt();return}var x=parseInt(xid.split('_')[1]);console.log('next_in_this_chapter:'+x);const gameEvent=new CustomEvent('unfoldx',{detail:x});document.dispatchEvent(gameEvent);storyline.chapters[storyline.current_chap].unfoldx(x)}},dismissChapter:function(){if($('#dialoguebubble')[0].className.indexOf('gameNotif')===-1){if(typeof $('#converse')[0]!=='undefined'){storyline.chapters[storyline.current_chap].dialogueending=parseInt($('#converse')[0].className.split('converseid_')[1])}if(!storyline.chapters[storyline.current_chap].repeat){if(typeof storyline.chapters[storyline.current_chap].elements.gameElem!=='undefined'){storyline.chapters[storyline.current_chap].elements.gameElem.dataset.storychapters=storyline.chapters[storyline.current_chap].elements.gameElem.dataset.storychapters.replace('#'+storyline.current_chap,'')}}}$('#interiorscenebg').remove();$('#dialoguebubble').remove();storyline.scanStoryElements()},scanStoryElements:function(){for(var e=0;e<storyline.chapters.length;e++){if(storyline.chapters[e].type=='autoNarration'||storyline.chapters[e].type=='narration'||storyline.chapters[e].type=='dialogue'||!storyline.chapters[e].unfolded)continue;if(storyline.chapters[e].elements.check_prerequisite()){storyline.current_chap=e;storyline.unfold();return}}},titles:[['Loyalty','en,ru','cineverse']],xsto:function(){if(storyline.docUrl!==false){storyline.docUrl[1].delete('st');var newUrl=storyline.docUrl[0].origin+storyline.docUrl[0].pathname+(storyline.docUrl[1].toString()?'?'+storyline.docUrl[1].toString():'');window.location.href=newUrl}else location.reload()},getftm:function(){return storyline.chapters[storyline.current_chap].unfoldAll(storyline.currentPar)},ftm:function(){$('#dialoguebubble').remove();$('#canvas').before('<div id="interiorscenebg"></div>');$('body').append('<div id="dialoguebubble" class="interiorScene ftxt"><h3 id="dialogueboxheader">Full Text</h3> '+storyline.getftm()+' <div class="respond active" id="backfromtext">Back<div class="responsecursor active">\u{25C9}</div></div>    </div>');$('#backfromtext').on('click',function(e){storyline.resumeSt()})},resumeSt:function(){$('#dialoguebubble').remove();const gameEvent=new CustomEvent('unfoldx',{detail:storyline.currentPar});document.dispatchEvent(gameEvent);storyline.chapters[storyline.current_chap].unfoldx(storyline.currentPar)},choosetitle:function(){var xiid=$('.responsecursor.active').parent().attr('id');if(xiid=='refreshtitles'){fetch('https://damarsidiq.github.io/jiveRPG/SSGTList.json').then(r=>r.json()).then(files=>{storyline.titles=files;jovuniverse.localstorage.setItem('ssstorytitles',JSON.stringify(storyline.titles));$('#dialoguebubble.choosestorytitles').remove();storyline.storyOptions()}).catch(err=>console.error('Failed to load game tapes list:',err));return}else if(xiid=='gameshortcutkey'){jovuniverse.storyop();return}else if(xiid=='ehanki'){jovuniverse.ankicard();return}else if(xiid=='opti'){jovuniverse.gamecontrol();return}storyline.chapters=[];storyline.current_chap=0;storyline.stage=1;storyline.unfold_=false;storyline.pos=[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],storyline.inventory=[];var x=parseInt($('.responsecursor.active').parent().attr('id').split('_')[1]);storyline.currentstory=storyline.titles[x][0];storyline.loadStory()},readaloud:function(){var ttsurl='https://translate.google.com/translate_tts?ie=UTF-8&client=tw-ob&tl='+storyline.clang+'&q='+encodeURIComponent($('#converse')[0].innerText.trim());window.open(ttsurl,"_blank")},dictionfn:function(t,l){window.open('https://translate.google.com/?sl='+storyline.clang+'&tl=en&text='+t+'&op=translate')},onstoryload:function(){$('#interiorscenebg').remove();$('#dialoguebubble').remove();storyline.showIntro()},presetStory:function(v,c,p){this.currentstory=v;this.docUrl=[c,p];var x=document.createElement('script');x.src=this.gtUrl+this.currentstory+`.js?v=${Date.now()}`;document.getElementsByTagName("head")[0].appendChild(x);if("onreadystatechange"in x){x.onreadystatechange=function(){if(/loaded|complete/.test(x.readyState)){storyline.onstoryload()}}}else{x.onload=storyline.onstoryload}},loadStory:function(){var x=document.createElement('script');x.src=this.gtUrl+this.currentstory+`.js?v=${Date.now()}`;document.getElementsByTagName("head")[0].appendChild(x);if("onreadystatechange"in x){x.onreadystatechange=function(){if(/loaded|complete/.test(x.readyState)){storyline.onstoryload()}}}else{x.onload=storyline.onstoryload}},storyOptions:function(){if(typeof $('#interiorscenebg')[0]==='undefined'){$('#canvas').before('<div id="interiorscenebg"></div>')}var x='<h3 id="dialogueboxheader">Select Story</h3><div id="storyBox">';for(var i=0;i<this.titles.length;i++){x+='<div class="respond" id="responseid_'+i+'">'+this.titles[i][0]+'<br>'+this.titles[i][1]+' <span class="stgenre '+this.titles[i][2]+'">['+this.titles[i][2]+']</span><div class="responsecursor">\u{25C9}</div></div>'}x+='</div>';x+='<div id="so_menub">';x+='<div class="respond" id="gameshortcutkey">Help & Info<div class="responsecursor">\u{25C9}</div></div>';x+='<div class="respond" id="opti">Options<div class="responsecursor">\u{25C9}</div></div>';x+='<div class="respond" id="ehanki">Anki<div class="responsecursor">\u{25C9}</div></div>';x+='<div class="respond" id="refreshtitles">Refresh List<div class="responsecursor">\u{25C9}</div></div>';x+='</div>';$('body').append('<div id="dialoguebubble" class="choosestorytitles">'+x+'</div>');$('.respond').eq(0).addClass('active').children('.responsecursor').addClass('active')},init:function(){this.gameNotif();this.storyOptions()},gameNotif:function(){this.gnotif[0]=new dialogue();this.gnotif[0].opening('you need to get closer to speak to one of the NPCs or enter a building');this.gnotif[1]=new dialogue();this.gnotif[1].opening('unmet prerequisite')},dialoguetemplate:function(){var mpo=new dialogue();return mpo}};var narration=function(){this.paragraphs=[];this.trans=[];this.transsv=[];this.transda=[];this.transno=[];this.transfi=[];this.illustration=false};narration.prototype.addNarration=function(en,ru,sv,da,no,fi){this.paragraphs[this.paragraphs.length]=ru;this.trans[this.trans.length]=en;this.transsv[this.transsv.length]=sv;this.transda[this.transda.length]=da;this.transno[this.transno.length]=no;this.transfi[this.transfi.length]=fi};narration.prototype.untranslate=function(intext){var x=parseInt($('#converse')[0].className.split('_')[1]);switch(storyline.deflang){case'ru':$('#converse').html(storyline.fragments(this.paragraphs[x]));break;case'sv':$('#converse').html(storyline.fragments(this.transsv[x]));break;case'da':$('#converse').html(storyline.fragments(this.transda[x]));break;case'no':$('#converse').html(storyline.fragments(this.transno[x]));break;case'fi':$('#converse').html(storyline.fragments(this.transfi[x]));break;default:}$('body').removeClass('intranslation')};narration.prototype.translatenarration=function(intext,l){var x=parseInt($('#converse')[0].className.split('_')[1]);switch(l){case 1:$('#converse').html(storyline.fragments(this.paragraphs[x]));break;case 0:$('#converse').html(storyline.fragments(this.trans[x]));break;case 2:$('#converse').html(storyline.fragments(this.transsv[x]));break;case 3:$('#converse').html(storyline.fragments(this.transda[x]));break;case 4:$('#converse').html(storyline.fragments(this.transno[x]));break;case 5:$('#converse').html(storyline.fragments(this.transfi[x]));break}$('body').addClass('intranslation')};narration.prototype.fullnaration=function(x,intext){storyline.currentPar=x;var c='';switch(storyline.clang){case'en':for(var i=0;i<this.trans.length;i++){c+='<div>'+this.trans[i]+'</div>'}break;case'ru':for(var i=0;i<this.paragraphs.length;i++){c+='<div>'+this.paragraphs[i]+'</div>'}break;case'sv':for(var i=0;i<this.transsv.length;i++){c+='<div>'+this.transsv[i]+'</div>'}break;case'da':for(var i=0;i<this.transda.length;i++){c+='<div>'+this.transda[i]+'</div>'}break;case'no':for(var i=0;i<this.transno.length;i++){c+='<div>'+this.transno[i]+'</div>'}break;case'fi':for(var i=0;i<this.transfi.length;i++){c+='<div>'+this.transfi[i]+'</div>'}break;default:}return c};narration.prototype.narrate=function(i,intext){console.log('narrating: '+i+'###');if(typeof i==='undefined'){i=0}storyline.currentPar=i;$('#dialoguebubble').remove();if(this.illustration!=false){storyline.updateImg('#text5',this.illustration)}var c='';switch(storyline.deflang){case'ru':c+='<p class="first converseid_'+i+'" id="converse">'+storyline.fragments(this.paragraphs[i])+'</p>';break;case'sv':c+='<p class="first converseid_'+i+'" id="converse">'+storyline.fragments(this.transsv[i])+'</p>';break;case'da':c+='<p class="first converseid_'+i+'" id="converse">'+storyline.fragments(this.transda[i])+'</p>';break;case'no':c+='<p class="first converseid_'+i+'" id="converse">'+storyline.fragments(this.transno[i])+'</p>';break;case'fi':c+='<p class="first converseid_'+i+'" id="converse">'+storyline.fragments(this.transfi[i])+'</p>';break;default:}c+='<div id="responsescontainer">';if(i<this.paragraphs.length-1){c+='<div class="respond continue" id="responseid_'+(i+1)+'">continue<div class="responsecursor">\u{25C9}</div></div>'}if(storyline.deflang!=='en'&&storyline.lang.indexOf('EN')!==-1){c+='<div class="respond" id="EN">English<div class="responsecursor">\u{25C9}</div></div>'}if(storyline.deflang!=='ru'&&storyline.lang.indexOf('RU')!==-1){c+='<div class="respond" id="RU">Russian<div class="responsecursor">\u{25C9}</div></div>'}if(storyline.deflang!=='sv'&&storyline.lang.indexOf('SV')!==-1){c+='<div class="respond" id="SV">Swedish<div class="responsecursor">\u{25C9}</div></div>'}if(storyline.deflang!=='da'&&storyline.lang.indexOf('DA')!==-1){c+='<div class="respond" id="DA">Danish<div class="responsecursor">\u{25C9}</div></div>'}if(storyline.deflang!=='no'&&storyline.lang.indexOf('NO')!==-1){c+='<div class="respond" id="NO">Norwegian<div class="responsecursor">\u{25C9}</div></div>'}if(storyline.deflang!=='fi'&&storyline.lang.indexOf('FI')!==-1){c+='<div class="respond" id="FI">Finnish<div class="responsecursor">\u{25C9}</div></div>'}c+='<div class="respond" id="audio">audio<div class="responsecursor">\u{25C9}</div></div>';c+='</div>';$('#interiorscenebg').remove();$('#canvas').before('<div id="interiorscenebg"></div>');$('body').append('<div id="dialoguebubble" class="'+intext+'">'+c+'</div>');$('.respond').eq(0).addClass('active').children('.responsecursor').addClass('active');$('#progressindicator').css('width',((i/this.paragraphs.length)*100)+'%');$.each($('.respond'),function(i,a){switch(i){case 1:$(a).addClass('first');break;case 2:$(a).addClass('second');break;case 3:$(a).addClass('third');break;case 4:$(a).addClass('fourth');break;default:}})};var repercussion=function(fn){this.callb=fn};repercussion.prototype.execute=function(){this.callb()};var dialogue=function(){this.conversations=[];this.illustration=false};dialogue.prototype.opening=function(s){this.opening=s;this.conversations[0]={c:s,p:false};return 0};dialogue.prototype.addConversation=function(c,p,ending){if(typeof p==='undefined')p=this.conversations.length-1;this.conversations[this.conversations.length]={c:c,p:p,ending:(typeof ending!=='undefined'?ending:false)};return this.conversations.length-1};dialogue.prototype.bubble=function(idx,intext){$('#dialoguebubble').remove();var c='';if(typeof idx==='undefined'){idx=0}if(this.illustration!=false){$('#text5').prop('src',this.illustration).css('display','block')}c+='<p class="first converseid_0" id="converse">'+this.conversations[idx].c+'</p>';for(var i=idx;i<this.conversations.length;i++){if(this.conversations[i].p===idx){c+='<div class="respond" id="responseid_'+i+'">'+this.conversations[i].c+'<div class="responsecursor">\u{25C9}</div></div>'}}$('#interiorscenebg').remove();$('#canvas').before('<div id="interiorscenebg"></div>');$('body').append('<div id="dialoguebubble" class="'+intext+'">'+c+'</div>');$('.respond').eq(0).addClass('active').children('.responsecursor').addClass('active')};dialogue.prototype.bubblex=function(idx,intext){$('#dialoguebubble').remove();var c='',px,ending;for(var i=idx;i<this.conversations.length;i++){if(this.conversations[i].p===idx){px=i;if(this.illustration!=false){$('#text5').prop('src',this.illustration).css('display','block')}c+='<p class="first converseid_'+i+'" id="converse">'+this.conversations[i].c+'</p>';ending=this.conversations[i].ending;break}}for(var i=(px+1);i<this.conversations.length;i++){if(this.conversations[i].p===px){c+='<div class="respond" id="responseid_'+i+'">'+this.conversations[i].c+'<div class="responsecursor">\u{25C9}</div></div>'}}$('#interiorscenebg').remove();$('#canvas').before('<div id="interiorscenebg"></div>');$('body').append('<div id="dialoguebubble" class="'+intext+'">'+c+'</div>');if(ending)$('#dialoguebubble').addClass('ending');$('.respond').eq(0).addClass('active').children('.responsecursor').addClass('active')};var storyChapter=function(cfg,idx){this.unfolded=true;this.elements=new storyElement(cfg);this.type=this.elements.type;if(typeof this.elements.repeat==='undefined'){this.elements.repeat=false}this.repeat=this.elements.repeat;if(typeof this.elements.isLocked==='undefined'){this.elements.isLocked=false}this.isLocked=this.elements.isLocked;if(typeof this.elements.intext==='undefined'){this.elements.intext=storyline.defaultVar.intext}if(typeof this.elements.gameElem!=='undefined'){if(typeof this.elements.gameElem.dataset.storychapters==='undefined')this.elements.gameElem.dataset.storychapters='#'+idx;else this.elements.gameElem.dataset.storychapters+='#'+idx}};storyChapter.prototype.lock=function(){this.isLocked=this.elements.isLocked=true};storyChapter.prototype.unlock=function(){this.isLocked=this.elements.isLocked=false};storyChapter.prototype.unfold=function(x){if(!this.elements.check_prerequisite()){this.gnotif[1].bubble(0,'gameNotif');return}if(typeof this.elements.sfx!=='undefined'){sfx.play(this.elements.sfx)}switch(this.elements.type){case'repercussion':this.elements.effect.execute();break;case'autoNarration':case'narration':this.elements.narration.narrate(0,this.elements.intext);break;case'dialogue':this.elements.dialogues.bubble(0,this.elements.intext);break;case'inventory':this.elements.item.pickItem();break}this.unfolded=false};storyChapter.prototype.untranslate=function(){storyline.clang=storyline.deflang;switch(this.elements.type){case'autoNarration':case'narration':this.elements.narration.untranslate(this.elements.intext);break;case'dialogue':this.elements.dialogues.untranslate(this.elements.intext);break}this.unfolded=false};storyChapter.prototype.translate=function(l){switch(this.elements.type){case'autoNarration':case'narration':this.elements.narration.translatenarration(this.elements.intext,l);break;case'dialogue':this.elements.dialogues.translatenarration(this.elements.intext,l);break}this.unfolded=false};storyChapter.prototype.unfoldAll=function(x){switch(this.elements.type){case'autoNarration':case'narration':return this.elements.narration.fullnaration(x,this.elements.intext);break}this.unfolded=false};storyChapter.prototype.unfoldx=function(x){switch(this.elements.type){case'autoNarration':case'narration':this.elements.narration.narrate(x,this.elements.intext);break;case'dialogue':this.elements.dialogues.bubblex(x,this.elements.intext);break}this.unfolded=false};var storyElement=function(cfg){for(let key in cfg){if(cfg.hasOwnProperty(key))this[key]=cfg[key]}if(typeof this.agents!=='undefined'&&this.agents.length){this.gameElem=$('#'+this.agents[0])[0]}else if(typeof this.places!=='undefined'&&this.places.length){this.gameElem=$('#'+this.places[0])[0]}else if(typeof this.vehicles!=='undefined'&&this.vehicles.length){this.gameElem=$('#'+this.vehicles[0])[0]}};storyElement.prototype.stageTrigger=function(){if(typeof this.stagetrigger!=='undefined'){if(storyline.stage>=this.stagetrigger){return}storyline.stage=this.stagetrigger}};storyElement.prototype.check_prerequisite=function(){if(this.isLocked){return false}if(typeof this.prerequisite==='undefined'){return true}if(typeof this.prerequisite.stage!=='undefined'&&this.prerequisite.stage!==false&&storyline.stage<this.prerequisite.stage){return false}var xi;if(typeof this.prerequisite.inventory!=='undefined'){xi=this.prerequisite.inventory.length;if(xi>0){for(var i=0;i<this.prerequisite.inventory.length;i++){for(var ii=0;ii<storyline.inventory.length;ii++){if(storyline.inventory[ii].name==this.prerequisite.inventory[i]){xi--;break}}}if(xi>0){return false}}}if(typeof this.prerequisite.chapters!=='undefined'){xi=this.prerequisite.chapters.length;if(xi>0){for(var i=0;i<this.prerequisite.chapters.length;i++){if(storyline.chapters[this.prerequisite.chapters[i]].unfolded){return false}}}}return true};var playerInventory=function(name,description){this.name=name;this.description=description};playerInventory.prototype.pickItem=function(){$('#dialoguebubble').remove();var c='<h5>You have received an Item:</h5>';c+='<p>'+this.name+'</p>';c+='<p>'+this.description.content+'</p>';storyline.inventory[storyline.inventory.length]=this;$('#interiorscenebg').remove();$('#canvas').before('<div id="interiorscenebg"></div>');$('body').append('<div id="dialoguebubble" class="inventory">'+c+'</div>');$('.respond').eq(0).addClass('active').children('.responsecursor').addClass('active')};var txtstream={is_streaming:false,streamtext_:function(c){c=c.split('<');txtstream.streamaux_=[c,c.length,0];c[txtstream.streamaux_[2]]=c[txtstream.streamaux_[2]].split('');txtstream.textstream(c[0])},streamaux_:[],streamtext__:function(){txtstream.streamaux_[2]++;if(txtstream.streamaux_[2]<txtstream.streamaux_[1]){var c=txtstream.streamaux_[0];var i=txtstream.streamaux_[2];c[i]=c[i].split('>');$('#dialoguebubble').html($('#dialoguebubble').html()+'<'+c[i][0]+'>');c[i].splice(0,1);c[i]=c[i].join('>');if(c[i].trim()!=''){c[i]=c[i].split('');txtstream.textstream(c[i]);return}}txtstream.is_streaming=false;$('.respond').eq(0).addClass('active').children('.responsecursor').addClass('active')},textstream:function(c){txtstream.is_streaming=true;txtstream.streamaux=[];txtstream.streamaux[0]=-1;txtstream.streamaux[1]=[c.length,c[0].length,0];txtstream.streamaux[2]=0;txtstream.streamaux[3]=0;txtstream.streamaux[4]=c;requestAnimationFrame(txtstream.streamtext)},streamtext:function(t){if(txtstream.streamaux[2]==0){txtstream.streamaux[2]=t;requestAnimationFrame(txtstream.streamtext);return}txtstream.streamaux[2]=t;txtstream.streamaux[0]++;txtstream.streamaux[3]++;if(txtstream.streamaux[0]==txtstream.streamaux[1][1]){txtstream.streamaux[1][2]+=1;if(txtstream.streamaux[1][0]==txtstream.streamaux[1][2]){txtstream.streamtext__();return}txtstream.streamaux[1][1]=txtstream.streamaux[4][txtstream.streamaux[1][2]].length;txtstream.streamaux[0]=-1;requestAnimationFrame(txtstream.streamtext);return}$('#dialoguebubble').html($('#dialoguebubble').html()+txtstream.streamaux[4][txtstream.streamaux[1][2]][txtstream.streamaux[0]]);requestAnimationFrame(txtstream.streamtext)}};var sfx={autoplay:true,init:function(){this.bgmusicurl='./jiveRPG/gameAssets/soundeffects/Pond.mp3',this.synthChime='./jiveRPG/gameAssets/soundeffects/SynthChime1.mp3';this.thunder='./jiveRPG/gameAssets/soundeffects/Thunder_6-13-22.mp3';this.raining='./jiveRPG/gameAssets/soundeffects/Gentle-Rain.mp3';this.drizzle='./jiveRPG/gameAssets/soundeffects/Slight-Drizzle.mp3';this.coins='./jiveRPG/gameAssets/soundeffects/Coins12.mp3';this.click='./jiveRPG/gameAssets/soundeffects/click-234708.mp3';this.doorclosed='./jiveRPG/gameAssets/soundeffects/Interior-Door_Close.mp3';this.creakydoor='./jiveRPG/gameAssets/soundeffects/Creeky-Interior-Door.mp3'},play:function(fx){if(this.bgmplaying){this.stop()}this.extraaudio=new Audio();this.extraaudio.src=fx;this.extraaudio.addEventListener('ended',()=>{this.start()});this.extraaudio.play()},bgmplaying:false,start:function(){this.audio=new Audio();this.audio.src=this.bgmusicurl;this.audio.loop=true;sfx.audio.play();this.bgmplaying=true},stop:function(){sfx.audio.pause();this.bgmplaying=false}};
</script>
<script type="text/javascript" id="javacode_1">
var requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var jovuniverse={cdt:false,getCurrentDateTime:function(update){if(!update&&this.cdt!==false){return this.cdt}const now=new Date();const year=now.getFullYear();const month=String(now.getMonth()+1).padStart(2,'0');const day=String(now.getDate()).padStart(2,'0');const hours=String(now.getHours()).padStart(2,'0');const minutes=String(now.getMinutes()).padStart(2,'0');const seconds=String(now.getSeconds()).padStart(2,'0');this.cdt=[`${year}-${month}-${day}`,hours,minutes,seconds,day];return this.cdt},menuitem:function(menu){switch(menu){case'ZoomLevel':jovuniverse.zoomSetting();break;case'Modules':jovuniverse.modulelist();break;default:}},debug:1,wastouch:false,storyop:function(){$('#dialoguebubble').remove();$('body').append('<div id="dialoguebubble" class="interiorScene"></div>');var rdm=`<section id="rdmp"><h2>southSide Beta</h2><h3>Controls</h3><ul><li>Right-click on a word to bring out the English dictionary pop-up for that word.</li><li>Left-clicking on the dictionary balloon saves that word into the Anki-card system,and right-clicking on the balloon closes it.</li><li>the language-choosing buttons can be right click or left click in order to toggle between language.</li><li>Press F1 to bring out extra menu while in a story eg:read the whole text using the currently chosen language.</li></ul><h3>Anki</h3><ul><li>Choosing the Anki menu on the start box shows a random-but-systematized selection of a word you've saved using the dictionary balloon.</li><li>The answer to the quiz is located in the bottom-right part of the Anki box.Clicking this block reveals the answer and prompts you to choose how well you remember the word.</li><li>Your rating affects how often that word appears again in future reviewswords you remember well will show up less frequently,while harder ones will reappear more often.</li></ul><h3>Audio</h3><p>The audio button opens a window to Googles Text-to-Speech(TTS)service.Its not an official public API,so it's going to show the 404 page,what you need to do is select the address text on your browser and press enter,the browser will"might"then show an audio player and play the voice but it might not for some cases(too long of a sentence)</p></section>`;$('#dialoguebubble').html('<p id="gamecontroldesc">'+rdm+'</p> <div class="respond active" id="backfromcontrol">Back<div class="responsecursor active">\u{25C9}</div></div> ');$('#backfromcontrol').on('click',function(e){$('#dialoguebubble').remove();storyline.storyOptions()})},gamecontrol:function(){$('#dialoguebubble').remove();$('body').append('<div id="dialoguebubble" class="interiorScene"></div>');$('#dialoguebubble').html('<p id="gamecontroldesc">Options</p>  <div class="respond active" id="backfromcontrol">Back<div class="responsecursor active">\u{25C9}</div> ');$('#backfromcontrol').on('click',function(e){$('#dialoguebubble').remove();storyline.storyOptions()})},ankicard:function(){$('#dialoguebubble').remove();$('body').append('<div id="dialoguebubble" class="interiorScene"></div>');if(!jovuniverse.ehankis.length){$('#dialoguebubble').html('<p id="gamecontroldesc">None Found</p><div class="respond active" id="backfromcontrol">Back<div class="responsecursor active">\u{25C9}</div></div>');$('#backfromcontrol').on('click',function(e){$('#dialoguebubble').remove();storyline.storyOptions()});return}var now=Date.now();var dueCards=jovuniverse.ehankis.filter(c=>now>=c[4].due);var pool=dueCards.length?dueCards:jovuniverse.ehankis;var totalWeight=pool.reduce((sum,c)=>sum+(1/c[4].interval),0);var pick=Math.random()*totalWeight;var xx=null;for(let c of pool){pick-=(1/c[4].interval);if(pick<=0){xx=c;break}}var x=xx[4].cidx;var sx=xx[2];if(typeof sx=='object'){sx=jovuniverse.getrand(0,sx.length);sx=xx[2][sx]}$('#dialoguebubble').html('<p data-ankiidx='+x+' id="ankisent" class="card">'+sx+'</p><div id="ankianswer" class="wait">'+xx[0]+'</div><div id="ankistate"><span class="ankistate_">[Still Fuzzy]</span><span class="ankistate_">[Almost]</span><span class="ankistate_">[Got It]</span><span class="ankistate_">[Nailed It]</span></div><div class="wait" id="ankiaudio">Audio</div>');switch(xx[4].therating){case'[Still Fuzzy]':$('.ankistate_').eq(0).addClass('selected');break;case'[Almost]':$('.ankistate_').eq(1).addClass('selected');break;case'[Got It]':$('.ankistate_').eq(2).addClass('selected');break;case'[Nailed It]':$('.ankistate_').eq(3).addClass('selected');break;default:}$('#ankiaudio').on('click',function(){var ttsurl='https://translate.google.com/translate_tts?ie=UTF-8&client=tw-ob&tl='+xx[1]+'&q='+encodeURIComponent($('#ankisent')[0].innerText.trim());window.open(ttsurl,"_blank")});$('#ankianswer').on('click',function(e){e.stopPropagation();var y=$(this).html();var yx=$('.txtfrg.inq').html();$(this).removeClass('wait');$('.txtfrg.inq').html(y);$(this).html(yx);$('#ankistate').addClass('due');$('#ankiaudio').removeClass('wait')});$('.ankistate_').on('click',function(e){e.stopPropagation();$('.ankistate_.selected').removeClass('selected');$(this).addClass('selected');var s=$(this).html();var card=jovuniverse.ehankis[$('#ankisent')[0].dataset.ankiidx];card[4].therating=s;const rates={"[Still Fuzzy]":"again","[Almost]":"hard","[Got It]":"good","[Nailed It]":"easy"};const type=rates[s];let ease=card[4].ease||2.5;let interval=card[4].interval||1;if(type==="again"){interval=1;ease-=0.2}else if(type==="hard"){interval*=1.2;ease-=0.1}else if(type==="good"){interval*=ease}else if(type==="easy"){interval*=ease*1.3;ease+=0.15}if(ease<1.3)ease=1.3;if(interval<1)interval=1;const nextDue=Date.now()+interval*24*60*60*1000;card[4].ease=ease;card[4].interval=interval;card[4].lastReview=Date.now();card[4].due=nextDue;jovuniverse.ehankis[$('#ankisent')[0].dataset.ankiidx]=card;jovuniverse.localstorage.setItem('ssankis',JSON.stringify(jovuniverse.ehankis));$('#dialoguebubble').remove();storyline.storyOptions()})},anki:function(){if(typeof jovuniverse.ehankis==='undefined')return false;var twx=$('.txtfrg.inq').html();var tw=twx.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()"'?<>@\[\]\\|]/g,"").replace(/\s{2,}/g,' ').trim();$('.txtfrg.inq').html($('#dictionary').html());var os=$('#converse')[0].innerHTML;var el=document.querySelector('#converse');var spans=el.querySelectorAll('span.txtfrg');spans.forEach(span=>{if(!span.classList.contains('inq')){span.outerHTML=span.textContent}});var s=el.innerHTML;$('#converse').html(os);var ankimeta;for(var i=0;i<jovuniverse.ehankis.length;i++){if(jovuniverse.ehankis[i][1]==storyline.clang){if(jovuniverse.ehankis[i][0]==tw){if(jovuniverse.ehankis[i][2]==s){$('.txtfrg.inq').html(twx);return'already in your list!'}else{if(typeof jovuniverse.ehankis[i][2]=='object'){for(var si=0;si<jovuniverse.ehankis[i][2].length;si++){if(jovuniverse.ehankis[i][2][si]==s){$('.txtfrg.inq').html(twx);return'already in your list!'}}jovuniverse.ehankis[i][2][jovuniverse.ehankis[i][2].length]=s}else{jovuniverse.ehankis[i][2]=[jovuniverse.ehankis[i][2],s]}jovuniverse.ehankis[i][4]={ease:2.5,interval:1,due:Date.now(),lastReview:Date.now(),cidx:i,therating:'[Still Fuzzy]'};$('.txtfrg.inq').html(twx);jovuniverse.localstorage.setItem('ssankis',JSON.stringify(jovuniverse.ehankis));return true}}}}if(tw==null)return;ankimeta={ease:2.5,interval:1,due:Date.now(),lastReview:Date.now(),cidx:jovuniverse.ehankis.length,therating:'[Still Fuzzy]'};jovuniverse.ehankis[jovuniverse.ehankis.length]=[tw,storyline.clang,s,$('#dictionary').html(),ankimeta];$('.txtfrg.inq').html(twx);jovuniverse.localstorage.setItem('ssankis',JSON.stringify(jovuniverse.ehankis));return true},ankiout:function(){$('.ankied').fadeOut(1000,function(){if(typeof $('#dictionary')[0]!=='undefined'&&$('#dictionary')[0].className.indexOf('ankied')===-1)return;$('body').removeClass('dictionInq');$('.txtfrg.inq').removeClass('inq');$(this).remove()})},ankinotif:['Saved for review later.','Added to your learning deck.','Marked for future recall!','Saved to your word deck.','Added to your memory list.','Added to your vocabulary collection.'],useraction:function(){$('body').on('touchend','.txtfrg',function(e){e.preventDefault();clearTimeout(jovuniverse.addankitimer);jovuniverse.wastouch=true;var w=this.innerHTML.toLowerCase().replace(/[*_`~]/g,'').replace(/[\-.,;:!?()"\[\]{}<>]/g,'').trim();if(/[a-zA-Z]/.test(w)&&/\d/.test(w)){w=w.replace(/\d+/g,'')}storyline.dictionfn(w,this)});$('body').on('touchend','#dictionary',function(e){e.preventDefault();jovuniverse.wastouch=true;$(this).remove();$('body').removeClass('dictionInq');$('.txtfrg.inq').removeClass('inq')});$('body').on('touchend','.respond',function(e){e.preventDefault();jovuniverse.wastouch=true;e.stopPropagation();var nextp=(this.className.indexOf('continue')!==-1&&e.button==0);if(!nextp&&$('body')[0].className.indexOf('intranslation')!==-1){$('.responsecursor.active').eq(0).removeClass('active');$('.respond').eq(0).children('.responsecursor').addClass('active');storyline.chapters[storyline.current_chap].untranslate()}else{if(nextp&&$('body')[0].className.indexOf('intranslation')!==-1){storyline.chapters[storyline.current_chap].untranslate()}$('.responsecursor.active').eq(0).removeClass('active');$(this).eq(0).children('.responsecursor').addClass('active');if(txtstream.is_streaming)return;if(typeof $('.choosestorytitles')[0]!=='undefined'){storyline.choosetitle();return}storyline.unfold()}});$('body')[0].addEventListener('keydown',function(e){if(typeof $('#interiorscenebg')[0]!=='undefined'){storyline.pfh(e);return}});$('#text_3').on('mousedown',function(e){e.preventDefault();e.stopPropagation();jovuniverse.gest[0]=[e.clientX,e.clientY]});$('#text_3').on('mouseup',function(e){e.preventDefault();e.stopPropagation();jovuniverse.gest[1]=[e.clientX,e.clientY];jovuniverse.gest[2]=jovuniverse.gest[0][0]-jovuniverse.gest[1][0];if(jovuniverse.gest[2]>100){storyline.unfold()}else if(jovuniverse.gest[2]<-100){storyline.xunfold()}});$('body').delegate('#dialoguebubble','contextmenu',function(e){e.preventDefault()});$('body').delegate('#dictionary','contextmenu click',function(e){if(jovuniverse.wastouch){jovuniverse.wastouch=false;return}if(e.button==0){var ankires=jovuniverse.anki();if(ankires===true){var msg=jovuniverse.ankinotif[Math.floor(Math.random()*jovuniverse.ankinotif.length)];$(this).html(msg).addClass('ankied')}else{if(ankires===false){$(this).html('error...').addClass('ankied')}else{$(this).html(ankires).addClass('ankied')}}jovuniverse.addankitimer=setTimeout(function(){jovuniverse.ankiout()},800);return}$('body').removeClass('dictionInq');$('.txtfrg.inq').removeClass('inq');e.preventDefault();$(this).remove()});$('body').delegate('.txtfrg','contextmenu',function(e){e.preventDefault();if(this.className.indexOf('inq')!==-1&&$('body')[0].className.indexOf('dictionInq')!==-1){$('#dictionary').remove();$('body').removeClass('dictionInq');return}clearTimeout(jovuniverse.addankitimer);var w=this.innerHTML.toLowerCase().replace(/[*_`~]/g,'').replace(/[\-.,;:!?()"\[\]{}<>]/g,'').trim();if(/[a-zA-Z]/.test(w)&&/\d/.test(w)){w=w.replace(/\d+/g,'')}storyline.dictionfn(w,this)});$('body').delegate('.respond','click contextmenu',function(e){if(jovuniverse.wastouch){jovuniverse.wastouch=false;return}e.preventDefault();e.stopPropagation();if(typeof $('.ingameoptions')[0]!=='undefined'){return}if(e.button==0&&this.id=='audio'){storyline.readaloud();return}var nextp=(this.className.indexOf('continue')!==-1&&e.button==0);if(!nextp&&$('body')[0].className.indexOf('intranslation')!==-1){if(e.button==0&&['EN','FR','ES','DE','IT','RU','JA','KO'].indexOf(this.id)!==-1){$('.responsecursor.active').eq(0).removeClass('active');$(this).eq(0).children('.responsecursor').addClass('active');if(txtstream.is_streaming)return;storyline.unfold()}else{$('.responsecursor.active').eq(0).removeClass('active');$('.respond').eq(0).children('.responsecursor').addClass('active');storyline.chapters[storyline.current_chap].untranslate()}}else{if(nextp&&$('body')[0].className.indexOf('intranslation')!==-1){storyline.chapters[storyline.current_chap].untranslate()}$('.responsecursor.active').eq(0).removeClass('active');$(this).eq(0).children('.responsecursor').addClass('active');if(txtstream.is_streaming)return;if(typeof $('.choosestorytitles')[0]!=='undefined'){storyline.choosetitle();return}storyline.unfold()}})},localxp:function(){if(typeof localStorage=="object"){jovuniverse.localstorage=localStorage}else if(typeof globalStorage=="object"){jovuniverse.localstorage=globalStorage[location.host]}else{jovuniverse.localstorage=false}if(jovuniverse.localstorage!==false){jovuniverse.ehankis=jovuniverse.localstorage.getItem('ssankis');if(jovuniverse.ehankis==null){jovuniverse.ehankis=[]}else{jovuniverse.ehankis=JSON.parse(jovuniverse.ehankis)}jovuniverse.uptodatetitles=jovuniverse.localstorage.getItem('ssstorytitles');if(jovuniverse.uptodatetitles==null){jovuniverse.uptodatetitles=false}else{jovuniverse.uptodatetitles=JSON.parse(jovuniverse.uptodatetitles);storyline.titles=jovuniverse.uptodatetitles}}},EHIMGURL:'./jiveRPG/xternal/easternHead/',init:function(c,p){if(typeof $('#canvaswrapper').attr('id')!=='undefined'){return}pagesheets.init();sfx.init();jovuniverse.useraction();jovuniverse.localxp();storyline.init();if(p.has('st')){storyline.presetStory(p.get('st'),c,p)}else{var img=new Image();img.src=this.EHIMGURL+'nw.jpg';$('body').addClass('dictionInq');img.onload=function(){$('#text5')[0].src=img.src;$('body').removeClass('dictionInq')}}},canvasoffset:[],getrand:function(start,end){return Math.floor(Math.random()*(end-start)+start)},gest:[],animaux:[],centerobject:function(x,y,a){jovuniverse.canvasoffset[0]=(0-x)+($('body').width()/2);jovuniverse.canvasoffset[1]=(0-y)+($('body').height()/2);if(typeof a!=='undefined'&&a){jovuniverse.animaux[0]=$('#canvas')[0].offsetLeft;jovuniverse.animaux[1]=$('#canvas')[0].offsetTop;jovuniverse.animaux[2]=[Math.abs(jovuniverse.animaux[0]-jovuniverse.canvasoffset[0]),Math.abs(jovuniverse.animaux[1]-jovuniverse.canvasoffset[1])];if(jovuniverse.animaux[0]>=jovuniverse.canvasoffset[0]){jovuniverse.animaux[2][0]=(0-jovuniverse.animaux[2][0])}if(jovuniverse.animaux[1]>=jovuniverse.canvasoffset[1]){jovuniverse.animaux[2][1]=(0-jovuniverse.animaux[2][1])}jovuniverse.animaux[2][0]=jovuniverse.animaux[2][0]/(Math.abs(jovuniverse.animaux[2][0]) /3);jovuniverse.animaux[2][1]=jovuniverse.animaux[2][1]/(Math.abs(jovuniverse.animaux[2][1])/3);jovuniverse.animCanvas();return}$('#canvas').css('left',jovuniverse.canvasoffset[0]+'px');$('#canvas').css('top',jovuniverse.canvasoffset[1]+'px')}};window.addEventListener('DOMContentLoaded',()=>{jovuniverse.EHIMGURL='https://ik.imagekit.io/pnscgil5d/';storyline.gtUrl='https://damarsidiq.github.io/jiveRPG/';var currentUrl=new URL(window.location.href);var params=currentUrl.searchParams;jovuniverse.init(currentUrl,params)});
</script>
</body>
</html>
